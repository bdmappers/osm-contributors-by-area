$(function(){var a=15,b=new L.Map("map",{attribution:'<a href="http://leafletjs.com/">Leaflet</a> &bull; <a href="http://osm.org/" target="_blank">OpenStreetMap contributors</a>',layers:L.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"),minZoom:a}),c="http://overpass-api.de/api/interpreter?";b.setView(L.latLng(42.4461,12.4937),a);var d=L.geoJson([]).addTo(b),e={};window.users=e,L.layerJSON({url:c+'data=[out:json];way["highway"~"."]({lat1},{lon1},{lat2},{lon2});>;out meta;',propertyItems:"elements",propertyTitle:"tags.name",propertyLoc:["lat","lon"],dataToMarker:function(a,b){return e[a.user]?e[a.user].push(b):e[a.user]=[],!1}}).on("dataloaded",function(){console.log("dataloaded",e);for(var a in e){var b=rgb2hex(randcolorhue([0,0,255]));console.log(a,b,e[a].length),d.addData(L.polygon(e[a],{color:b}).toGeoJSON())}}).addTo(b)});